apiVersion: v1
kind: ConfigMap
metadata:
  name: bootstrap-configmap
  namespace: {{ .Values.adaptor.namespace }}
  labels:
    {{- include "bootstrap.labels" . | nindent 4 }}
data:
  # Adaptor details
  BOOTSTRAP_ADAPTOR_BASE_URL: {{ .Values.adaptor.baseUrl | quote }}

  # Credentials
  BOOTSTRAP_ADMIN_USERNAME: {{ .Values.credentials.adminUsername | quote }}

  # Acquirer details
  BOOTSTRAP_ACQUIRER_NAME: {{ .Values.acquirerDetails.name | quote }}
  BOOTSTRAP_ACQUIRER_ALIAS: {{ .Values.acquirerDetails.alias | quote }}
  BOOTSTRAP_ACQUIRER_JWT_ISSUER_NAME: {{ .Values.acquirerDetails.jwtIssuerName | quote }}
  BOOTSTRAP_ACQUIRER_TERMINAL_CURRENCY_CODE: {{ .Values.acquirerDetails.defaultTerminalCurrencyCode | quote }}
  BOOTSTRAP_ACQUIRER_PASS_THROUGH: {{ .Values.acquirerDetails.passThrough | quote }}
  BOOTSTRAP_ACQUIRER_PIN_ALLOWED: {{ .Values.acquirerDetails.pinAllowed | quote }}
  BOOTSTRAP_ACQUIRER_PIN_DEFAULT: {{ .Values.acquirerDetails.pinDefault | quote }}
  BOOTSTRAP_ACQUIRER_MOVE_PIN_PAD: {{ .Values.acquirerDetails.movePinPad | quote }}
  BOOTSTRAP_ACQUIRER_JUMBLE_PIN_PAD: {{ .Values.acquirerDetails.jumblePinPad | quote }}

  # JWT Details
  BOOTSTRAP_JWT_KEY: {{ .Values.jwtDetails.verificationKey | quote }}
  BOOTSTRAP_ACQUIRER_JWT_ISSUER_NAME: {{ .Values.jwtDetails.issuerClaim | quote }}

  # Payment Provider Details
  BOOTSTRAP_PAYMENT_PROVIDER_NAME: {{ .Values.paymentProcessorDetails.name | quote }}
  BOOTSTRAP_PAYMENT_PROVIDER_URL: {{ .Values.paymentProcessorDetails.url | quote }}
  BOOTSTRAP_PAYMENT_PROVIDER_JWE_EXPIRY: {{ .Values.paymentProcessorDetails.jweExpiry | quote }}
  BOOTSTRAP_PAYMENT_PROVIDER_JWE_ENCRYPTION: {{ .Values.paymentProcessorDetails.jweEncryption | quote }}
  BOOTSTRAP_ENCRYPT_TAGS: {{ .Values.paymentProcessorDetails.encryptTags | join "," | quote }}

  # Terminal Config Override
  BOOTSTRAP_OVERRIDE_CONFIG: {{ .Values.terminalConfigOverrides | quote }}
---